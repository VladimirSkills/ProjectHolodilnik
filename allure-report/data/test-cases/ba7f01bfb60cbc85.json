{"uid":"ba7f01bfb60cbc85","name":"test_checkout_basket","fullName":"test_card_basket#test_checkout_basket","historyId":"b92b1f99b13007fcfa2a6d72408d19bc","time":{"start":1662924775165,"stop":1662924811491,"duration":36326},"description":"Тестируем Оформление заказа","descriptionHtml":"<p>Тестируем Оформление заказа</p>\n","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: Can't find element by locator ('xpath', '//button[contains(text(), \"Оплатить\")]') >> Page didn't load! Restart test please!\nStacktrace:\nBacktrace:\n\tOrdinal0 [0x003878B3+2193587]\n\tOrdinal0 [0x00320681+1771137]\n\tOrdinal0 [0x002341A8+803240]\n\tOrdinal0 [0x002624A0+992416]\n\tOrdinal0 [0x0026273B+993083]\n\tOrdinal0 [0x0028F7C2+1177538]\n\tOrdinal0 [0x0027D7F4+1103860]\n\tOrdinal0 [0x0028DAE2+1170146]\n\tOrdinal0 [0x0027D5C6+1103302]\n\tOrdinal0 [0x002577E0+948192]\n\tOrdinal0 [0x002586E6+952038]\n\tGetHandleVerifier [0x00630CB2+2738370]\n\tGetHandleVerifier [0x006221B8+2678216]\n\tGetHandleVerifier [0x004117AA+512954]\n\tGetHandleVerifier [0x00410856+509030]\n\tOrdinal0 [0x0032743B+1799227]\n\tOrdinal0 [0x0032BB68+1817448]\n\tOrdinal0 [0x0032BC55+1817685]\n\tOrdinal0 [0x00335230+1856048]\n\tBaseThreadInitThunk [0x764EFA29+25]\n\tRtlGetAppContainerNamedObjectPath [0x77C57A9E+286]\n\tRtlGetAppContainerNamedObjectPath [0x77C57A6E+238]","statusTrace":"browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f8825283896d34ee127be7a4d0647451\")>\n\n    def test_checkout_basket(browser):\n        \"\"\"Тестируем Оформление заказа\"\"\"\n        driver = browser\n        main_page = MainPage(driver)\n        page = ProductCardBasket(driver)\n        result_status = \"\"\n        try:\n            page.enter_on_site()\n            # Нажимаем на кнопку Каталог:\n            main_page.btn_click_catalog()\n            # Наводим мышь на элемент Смартфоны и гаджеты:\n            smartphones = main_page.find_elem_smartphones()\n            ActionChains(driver).move_to_element(smartphones).perform()  # наводим мышь\n            # Наводим мышь на элемент Смартфоны:\n            smartphonprod = main_page.find_elem_smartphonprod()\n            ActionChains(driver).move_to_element(smartphonprod).perform()  # наводим мышь\n            smartphonprod.click()\n            # Скроллим до первого элемента:\n            baskets = page.find_elem_baskets()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", baskets)\n            # Добавляем первый товар в корзину:\n            page.find_elem_baskets().click()\n            # Нажимаем Перейти в корзину:\n            page.btn_click_inbasket2().click()\n            driver.implicitly_wait(3)\n            # Нажимаем кнопку Оформить заказ:\n            page.btn_click_basketcheckout()\n            time.sleep(2)\n            \"\"\"Указываем телефон, почту и ФИО\"\"\"\n            # Генерируем случайные номер телефона:\n            numbers = random.sample(string.digits, 7)\n            numbers_list = list(numbers)\n            phone = '937' + ''.join(numbers_list)\n            driver.implicitly_wait(3)\n            page.elem_click_basketphone()  # кликаем по полю телефон\n            page.find_elem_basketphone(phone)  # вставляем телефон\n            page.elem_click_basketemail()  # кликаем по полю\n            page.find_elem_basketemail(valid_email)  # email\n            page.elem_click_basketsurname()  # кликаем по полю\n            page.find_elem_basketsurname('Скворцов')  # фамилия\n            page.elem_click_basketname()  # кликаем по полю\n            page.find_elem_basketname('Андрей')  # имя\n            page.elem_click_basketlastname()  # кликаем по полю\n            page.find_elem_basketlastname('Петрович')  # отчество\n            # Скриншот:\n            driver.save_screenshot(f\"../screenshots/{inspect.currentframe().f_code.co_name}_1.png\")\n            time.sleep(2)\n            # Нажимаем на кнопку: \"Выбрать пункт самовывоза\"\n            basketpickup = page.btn_click_basketpickup()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", basketpickup)\n            basketpickup.click()\n            time.sleep(2)\n            # Выбираем Первый пункт:\n            page.btn_click_basketpickup1()\n            time.sleep(2)\n            # Нажимаем на кнопку: \"Заберу здесь\"\n            page.btn_click_basketpickuphere()\n            time.sleep(2)\n            # Выбираем Способ оплаты:\n            basketpayment = page.btn_click_basketpayment()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", basketpayment)\n            time.sleep(2)\n            basketpayment.click()\n            # Нажимаем на кнопку Оплатить:\n>           basketpay = page.btn_click_basketpay()\n\ntests\\test_card_basket.py:495: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages\\PageAutho.py:698: in btn_click_basketpay\n    btn_basketpay = self.find_element(LocatorsProject.PCB_bBASKETPAY)\npages\\BaseApp.py:14: in find_element\n    return WebDriverWait(self.driver, time).until(EC.presence_of_element_located(locator),\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"f8825283896d34ee127be7a4d0647451\")>, method = <function presence_of_element_located.<locals>._predicate at 0x000002B0C81F5A60>\nmessage = 'Can\\'t find element by locator (\\'xpath\\', \\'//button[contains(text(), \"Оплатить\")]\\') >> Page didn\\'t load! Restart test please!'\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, 'screen', None)\n                stacktrace = getattr(exc, 'stacktrace', None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: Can't find element by locator ('xpath', '//button[contains(text(), \"Оплатить\")]') >> Page didn't load! Restart test please!\nE       Stacktrace:\nE       Backtrace:\nE       \tOrdinal0 [0x003878B3+2193587]\nE       \tOrdinal0 [0x00320681+1771137]\nE       \tOrdinal0 [0x002341A8+803240]\nE       \tOrdinal0 [0x002624A0+992416]\nE       \tOrdinal0 [0x0026273B+993083]\nE       \tOrdinal0 [0x0028F7C2+1177538]\nE       \tOrdinal0 [0x0027D7F4+1103860]\nE       \tOrdinal0 [0x0028DAE2+1170146]\nE       \tOrdinal0 [0x0027D5C6+1103302]\nE       \tOrdinal0 [0x002577E0+948192]\nE       \tOrdinal0 [0x002586E6+952038]\nE       \tGetHandleVerifier [0x00630CB2+2738370]\nE       \tGetHandleVerifier [0x006221B8+2678216]\nE       \tGetHandleVerifier [0x004117AA+512954]\nE       \tGetHandleVerifier [0x00410856+509030]\nE       \tOrdinal0 [0x0032743B+1799227]\nE       \tOrdinal0 [0x0032BB68+1817448]\nE       \tOrdinal0 [0x0032BC55+1817685]\nE       \tOrdinal0 [0x00335230+1856048]\nE       \tBaseThreadInitThunk [0x764EFA29+25]\nE       \tRtlGetAppContainerNamedObjectPath [0x77C57A9E+286]\nE       \tRtlGetAppContainerNamedObjectPath [0x77C57A6E+238]\n\nverv\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:90: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1662924770989,"stop":1662924771051,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1662924771051,"stop":1662924771051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"browser","time":{"start":1662924771051,"stop":1662924775165,"duration":4114},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1662924771051,"stop":1662924771051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"time_delta_teardown","time":{"start":1662924775165,"stop":1662924775165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"_skip_sensitive","time":{"start":1662924775165,"stop":1662924775165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"sensitive_url","time":{"start":1662924775165,"stop":1662924775165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"testStage":{"description":"Тестируем Оформление заказа","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: Can't find element by locator ('xpath', '//button[contains(text(), \"Оплатить\")]') >> Page didn't load! Restart test please!\nStacktrace:\nBacktrace:\n\tOrdinal0 [0x003878B3+2193587]\n\tOrdinal0 [0x00320681+1771137]\n\tOrdinal0 [0x002341A8+803240]\n\tOrdinal0 [0x002624A0+992416]\n\tOrdinal0 [0x0026273B+993083]\n\tOrdinal0 [0x0028F7C2+1177538]\n\tOrdinal0 [0x0027D7F4+1103860]\n\tOrdinal0 [0x0028DAE2+1170146]\n\tOrdinal0 [0x0027D5C6+1103302]\n\tOrdinal0 [0x002577E0+948192]\n\tOrdinal0 [0x002586E6+952038]\n\tGetHandleVerifier [0x00630CB2+2738370]\n\tGetHandleVerifier [0x006221B8+2678216]\n\tGetHandleVerifier [0x004117AA+512954]\n\tGetHandleVerifier [0x00410856+509030]\n\tOrdinal0 [0x0032743B+1799227]\n\tOrdinal0 [0x0032BB68+1817448]\n\tOrdinal0 [0x0032BC55+1817685]\n\tOrdinal0 [0x00335230+1856048]\n\tBaseThreadInitThunk [0x764EFA29+25]\n\tRtlGetAppContainerNamedObjectPath [0x77C57A9E+286]\n\tRtlGetAppContainerNamedObjectPath [0x77C57A6E+238]","statusTrace":"browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f8825283896d34ee127be7a4d0647451\")>\n\n    def test_checkout_basket(browser):\n        \"\"\"Тестируем Оформление заказа\"\"\"\n        driver = browser\n        main_page = MainPage(driver)\n        page = ProductCardBasket(driver)\n        result_status = \"\"\n        try:\n            page.enter_on_site()\n            # Нажимаем на кнопку Каталог:\n            main_page.btn_click_catalog()\n            # Наводим мышь на элемент Смартфоны и гаджеты:\n            smartphones = main_page.find_elem_smartphones()\n            ActionChains(driver).move_to_element(smartphones).perform()  # наводим мышь\n            # Наводим мышь на элемент Смартфоны:\n            smartphonprod = main_page.find_elem_smartphonprod()\n            ActionChains(driver).move_to_element(smartphonprod).perform()  # наводим мышь\n            smartphonprod.click()\n            # Скроллим до первого элемента:\n            baskets = page.find_elem_baskets()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", baskets)\n            # Добавляем первый товар в корзину:\n            page.find_elem_baskets().click()\n            # Нажимаем Перейти в корзину:\n            page.btn_click_inbasket2().click()\n            driver.implicitly_wait(3)\n            # Нажимаем кнопку Оформить заказ:\n            page.btn_click_basketcheckout()\n            time.sleep(2)\n            \"\"\"Указываем телефон, почту и ФИО\"\"\"\n            # Генерируем случайные номер телефона:\n            numbers = random.sample(string.digits, 7)\n            numbers_list = list(numbers)\n            phone = '937' + ''.join(numbers_list)\n            driver.implicitly_wait(3)\n            page.elem_click_basketphone()  # кликаем по полю телефон\n            page.find_elem_basketphone(phone)  # вставляем телефон\n            page.elem_click_basketemail()  # кликаем по полю\n            page.find_elem_basketemail(valid_email)  # email\n            page.elem_click_basketsurname()  # кликаем по полю\n            page.find_elem_basketsurname('Скворцов')  # фамилия\n            page.elem_click_basketname()  # кликаем по полю\n            page.find_elem_basketname('Андрей')  # имя\n            page.elem_click_basketlastname()  # кликаем по полю\n            page.find_elem_basketlastname('Петрович')  # отчество\n            # Скриншот:\n            driver.save_screenshot(f\"../screenshots/{inspect.currentframe().f_code.co_name}_1.png\")\n            time.sleep(2)\n            # Нажимаем на кнопку: \"Выбрать пункт самовывоза\"\n            basketpickup = page.btn_click_basketpickup()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", basketpickup)\n            basketpickup.click()\n            time.sleep(2)\n            # Выбираем Первый пункт:\n            page.btn_click_basketpickup1()\n            time.sleep(2)\n            # Нажимаем на кнопку: \"Заберу здесь\"\n            page.btn_click_basketpickuphere()\n            time.sleep(2)\n            # Выбираем Способ оплаты:\n            basketpayment = page.btn_click_basketpayment()\n            driver.execute_script(\"arguments[0].scrollIntoView();\", basketpayment)\n            time.sleep(2)\n            basketpayment.click()\n            # Нажимаем на кнопку Оплатить:\n>           basketpay = page.btn_click_basketpay()\n\ntests\\test_card_basket.py:495: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages\\PageAutho.py:698: in btn_click_basketpay\n    btn_basketpay = self.find_element(LocatorsProject.PCB_bBASKETPAY)\npages\\BaseApp.py:14: in find_element\n    return WebDriverWait(self.driver, time).until(EC.presence_of_element_located(locator),\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"f8825283896d34ee127be7a4d0647451\")>, method = <function presence_of_element_located.<locals>._predicate at 0x000002B0C81F5A60>\nmessage = 'Can\\'t find element by locator (\\'xpath\\', \\'//button[contains(text(), \"Оплатить\")]\\') >> Page didn\\'t load! Restart test please!'\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, 'screen', None)\n                stacktrace = getattr(exc, 'stacktrace', None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: Can't find element by locator ('xpath', '//button[contains(text(), \"Оплатить\")]') >> Page didn't load! Restart test please!\nE       Stacktrace:\nE       Backtrace:\nE       \tOrdinal0 [0x003878B3+2193587]\nE       \tOrdinal0 [0x00320681+1771137]\nE       \tOrdinal0 [0x002341A8+803240]\nE       \tOrdinal0 [0x002624A0+992416]\nE       \tOrdinal0 [0x0026273B+993083]\nE       \tOrdinal0 [0x0028F7C2+1177538]\nE       \tOrdinal0 [0x0027D7F4+1103860]\nE       \tOrdinal0 [0x0028DAE2+1170146]\nE       \tOrdinal0 [0x0027D5C6+1103302]\nE       \tOrdinal0 [0x002577E0+948192]\nE       \tOrdinal0 [0x002586E6+952038]\nE       \tGetHandleVerifier [0x00630CB2+2738370]\nE       \tGetHandleVerifier [0x006221B8+2678216]\nE       \tGetHandleVerifier [0x004117AA+512954]\nE       \tGetHandleVerifier [0x00410856+509030]\nE       \tOrdinal0 [0x0032743B+1799227]\nE       \tOrdinal0 [0x0032BB68+1817448]\nE       \tOrdinal0 [0x0032BC55+1817685]\nE       \tOrdinal0 [0x00335230+1856048]\nE       \tBaseThreadInitThunk [0x764EFA29+25]\nE       \tRtlGetAppContainerNamedObjectPath [0x77C57A9E+286]\nE       \tRtlGetAppContainerNamedObjectPath [0x77C57A6E+238]\n\nverv\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:90: TimeoutException","steps":[],"attachments":[{"uid":"dbbf45d27307cad2","name":"log","source":"dbbf45d27307cad2.txt","type":"text/plain","size":1517},{"uid":"c31a97dab83632e8","name":"stdout","source":"c31a97dab83632e8.txt","type":"text/plain","size":99}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":0,"hasContent":true},"afterStages":[{"name":"time_delta_teardown::0","time":{"start":1662924811612,"stop":1662924811612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1662924811613,"stop":1662924829955,"duration":18342},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"labels":[{"name":"suite","value":"test_card_basket"},{"name":"host","value":"HOME"},{"name":"thread","value":"7516-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_card_basket"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"ba7f01bfb60cbc85.json","parameterValues":[]}